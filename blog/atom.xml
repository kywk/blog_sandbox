<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://kywk.github.io/moco/blog</id>
    <title>kywk.moco Blog</title>
    <updated>2022-05-20T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://kywk.github.io/moco/blog"/>
    <subtitle>kywk.moco Blog</subtitle>
    <icon>https://kywk.github.io/moco/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Hello Docusaurus]]></title>
        <id>/2022/05/20/move-to-docusaurus</id>
        <link href="https://kywk.github.io/moco/blog/2022/05/20/move-to-docusaurus"/>
        <updated>2022-05-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Why move to Docusaurus.]]></summary>
        <content type="html"><![CDATA[<p>在 <a href="https://pjchender.dev/" target="_blank" rel="noopener noreferrer">PJCHENder 未整理筆記</a> 看到 <a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer">Docusaurus</a> 這套 CMS.
查了一下才知道原來是 Facebook 推出, 適用於專案文件的靜態網站生成框架.</p><p>比起一篇篇獨立文章的部落格系統, 覺得 docusaurus 更適合心得筆記整理用.
剛好原本使用的 Hugo Theme 不合適, 正在找新主題,
試用後, 決定轉往 docusaurus 重新建構. </p><p><strong>決定轉換系統主因有幾點</strong></p><ol><li>部落格系統偏向一篇篇獨立文章, 文章彼此連結性不強烈, 結構也不清楚.
而心得筆記該有的結構關係, 透過部落格系統加上 <code>catelogy</code> <code>tag</code> ... 等輔助,
雖勉強可用但不盡如人意.</li><li>心得筆記會不時更新, 而部落格系統以日期為主的文章陳列方式, 對筆記整理意義不大. </li><li>docusaurus 原生專注於專案文件, 對於程式語言呈現相當友善.
側邊欄 / 文章主體 / TOC 基礎版面清楚明瞭. 心得 CMS 很合適.</li><li>docusaurus 有限客製化, 無須花費過多時間調整版面, 可專注於文件內容編寫.</li><li>docusaurus 有 Blog 支援, 筆記文件放 <code>docs</code>, 日常文章放 <code>blog</code>.
筆記文件和部落格文章可以清楚分割. </li></ol><p>當時從 Hexo 換到 Hugo 主因是快! Hugo 生成速度遠快於 Hexo.
而現在卻從 Hugo 換到比 Hexo 更慢的 docusaurus.
除了上述優點外, 透過 <code>GitHub Action</code>, 讓網站生成工作交由 GitHub 處理, 速度就不再是問題.</p><p>官方說明很清楚, 網路上文章也多, 基礎轉移沒遇到問題.
倒是個人一些特殊需求, 試了一下才解決.</p><p><strong>Obsidian</strong></p><p>我的 Markdown 文件都放在 Obsidian Vault 下, 藉由 Obsidian 來建構筆記資料庫.
Hugo 框架可以透過 symbolic link 連結到 Obsidian 下的目錄, 而 docusaurus 則會報錯.</p><p>還好 Obsidian 有 <a href="https://forum.obsidian.md/t/symbolic-links-symlinks-folder-links/1058" target="_blank" rel="noopener noreferrer">Symbolic links</a> 需求的人不少,
透過 <a href="https://github.com/chrisdmacrae/symlinks-obsidian/" target="_blank" rel="noopener noreferrer">symlinks-obsidian</a> plugin
可以讓 Obsidian Vault 下的 symbolic link 正常工作.</p><p>如此, 反其向而行.
文件放於 docusaurus 工作目錄下, 在 Obsidian Vault 下建立 symbolic link 連結過去.
docusaurus / Obsidian 都可以正常運行.</p><p><strong>node_modules</strong></p><p>這也是一般情況不會發生, 個人習慣衍生的問題.</p><p>我的 docusaurus 工作目錄放在 Dropbox 同步, 為了節省空間,
會把 <code>node_modules</code> 移到本機目錄後, 建立 symbolic link 連結.</p><p>發現有趣的是, 更改 <code>node_modules</code> 名稱後, 建立的 symbolic link 會出錯:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">~/Dropbox/mySite</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> $ </span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> node_modules ~/node_modules/docusaurus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">~/Dropbox/mySite</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> $ </span><span class="token function" style="color:#d73a49">ln</span><span class="token plain"> -sfF ~/node_modules/docusaurus node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">~/Dropbox/mySite</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> $ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node:internal/errors:465</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ErrorCaptureStackTrace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ERR_MODULE_NOT_FOUND</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: Cannot </span><span class="token function" style="color:#d73a49">find</span><span class="token plain"> package </span><span class="token string" style="color:#e3116c">'@docusaurus/logger'</span><span class="token plain"> imported from /home/kywk/project/node_modules/docusaurus/doc/@docusaurus/core/bin/docusaurus.mjs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  code: </span><span class="token string" style="color:#e3116c">'ERR_MODULE_NOT_FOUND'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>而若維持 <code>node_modules</code> 資料夾名稱, 則不會報錯:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">~/Dropbox/mySite</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> $ </span><span class="token function" style="color:#d73a49">mv</span><span class="token plain"> node_modules ~/docusaurus/node_modules/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">~/Dropbox/mySite</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> $ </span><span class="token function" style="color:#d73a49">ln</span><span class="token plain"> -sfF ~/docusaurus/node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">~/Dropbox/mySite</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> $ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Starting the development server</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SUCCESS</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Docusaurus website is running at http://localhost:3000/moco/.</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="複製代碼至剪貼簿" title="複製" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Docusaurus 慢慢探索搬中. 初步印象, 85 分!</p>]]></content>
    </entry>
</feed>